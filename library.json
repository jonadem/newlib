{
    "name": "newlib",
    "frameworks": "*",
    "platforms": "ststm32",
    "repository": {
        "type": "git",
        "url": "https://github.com/lupyuen/newlib"
    },
    "description": "Stub for compiling newlib under PlatformIO",
    "build": {        
        "unflags": [
            "-fno-rtti",
            "-fno-threadsafe-statics"
        ],
        "flags": [
            "-D PREFER_SIZE_OVER_SPEED",
            "-D _LDBL_EQ_DBL",
            "-I include",
            "-I NOTUSEDnewlib/libc/include",
            "-I newlib/libc/ctype",
            "-I newlib/libm/common"
        ],
        "srcFilter": [
            "+<include/newlib-force.h>",
            "+<newlib/libc/include/*.h>",

            "+<newlib/libm/common/*.[ch]>",
            "+<newlib/libm/math/*.[ch]>",

            "+<newlib/libc/ctype/ctype_.c>",
            "+<newlib/libc/ctype/isalnum.c>",
            "+<newlib/libc/ctype/isalpha.c>",
            "+<newlib/libc/ctype/iscntrl.c>",
            "+<newlib/libc/ctype/isdigit.c>",
            "+<newlib/libc/ctype/islower.c>",
            "+<newlib/libc/ctype/isupper.c>",
            "+<newlib/libc/ctype/isprint.c>",
            "+<newlib/libc/ctype/ispunct.c>",
            "+<newlib/libc/ctype/isspace.c>",
            "+<newlib/libc/ctype/isxdigit.c>",
            "+<newlib/libc/ctype/tolower.c>",
            "+<newlib/libc/ctype/toupper.c>",

            "+<newlib/libc/string/bcopy.c>",
            "+<newlib/libc/string/bzero.c>",
            "+<newlib/libc/string/explicit_bzero.c>",
            "+<newlib/libc/string/ffsl.c>",
            "+<newlib/libc/string/ffsll.c>",
            "+<newlib/libc/string/fls.c>",
            "+<newlib/libc/string/flsl.c>",
            "+<newlib/libc/string/flsll.c>",
            "+<newlib/libc/string/index.c>",
            "+<newlib/libc/string/memchr.c>",
            "+<newlib/libc/string/memcmp.c>",
            "+<newlib/libc/string/memcpy.c>",
            "+<newlib/libc/string/memmove.c>",
            "+<newlib/libc/string/memset.c>",
            "+<newlib/libc/string/rindex.c>",
            "+<newlib/libc/string/strcasecmp.c>",
            "+<newlib/libc/string/strcat.c>",
            "+<newlib/libc/string/strchr.c>",
            "+<newlib/libc/string/strcmp.c>",
            "+<newlib/libc/string/strcoll.c>",
            "+<newlib/libc/string/strcpy.c>",
            "+<newlib/libc/string/strcspn.c>",
            "+<newlib/libc/string/strdup.c>",
            "+<newlib/libc/string/strdup_r.c>",
            "+<NOTUSEDnewlib/libc/string/strerror.c>",
            "+<newlib/libc/string/strerror_r.c>",
            "+<newlib/libc/string/strlcat.c>",
            "+<newlib/libc/string/strlcpy.c>",
            "+<newlib/libc/string/strlen.c>",
            "+<newlib/libc/string/strlwr.c>",
            "+<newlib/libc/string/strncasecmp.c>",
            "+<newlib/libc/string/strncat.c>",
            "+<newlib/libc/string/strncmp.c>",
            "+<newlib/libc/string/strncpy.c>",
            "+<newlib/libc/string/strnlen.c>",
            "+<newlib/libc/string/strnstr.c>",
            "+<newlib/libc/string/strpbrk.c>",
            "+<newlib/libc/string/strrchr.c>",
            "+<newlib/libc/string/strsep.c>",
            "+<newlib/libc/string/strsignal.c>",
            "+<newlib/libc/string/strspn.c>",
            "+<newlib/libc/string/strtok.c>",
            "+<newlib/libc/string/strtok_r.c>",
            "+<newlib/libc/string/strupr.c>",
            "+<newlib/libc/string/strxfrm.c>",
            "+<newlib/libc/string/strstr.c>",
            "+<newlib/libc/string/swab.c>",
            "+<newlib/libc/string/timingsafe_bcmp.c>",
            "+<newlib/libc/string/timingsafe_memcmp.c>"
        ]
    }
}